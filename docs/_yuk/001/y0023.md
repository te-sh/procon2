---
title: No.23
problem: https://yukicoder.me/problems/no/23
---
通常攻撃と必殺技は順序は関係ないので, 必殺技を $ x $ 回, 通常攻撃を $ \lceil (H-Dx)/A \rceil $ 回ヒットさせて倒すことを考える.

必殺技を $ x $ 回ヒットさせるときの攻撃回数の期待値を考える. 各攻撃は独立なので, この期待値は1回ヒットさせるときの攻撃回数の期待値を $ x $ 倍したものとなる.

1回ヒットさせるときの攻撃回数の期待値は,

\\[
\frac{2}{3} + 2 \frac{1}{3} \frac{2}{3} + 3 \left( \frac{1}{3} \right)^2 \frac{2}{3} + \cdots = \frac{2}{3} \sum_{k=1}^{\infty} k \left( \frac{1}{3} \right)^{k-1}
\\]

となる. これを $ S $ とおくと,

\\[
S-\frac{1}{3}S = \frac{2}{3} \sum_{k=1}^{\infty} \left( \frac{1}{3} \right)^{k-1} = 1
\\]

となるので, $ S = 3/2 $ となる.

あとは

\\[
\frac{3}{2}x + \left\lceil \frac{H-Dx}{A} \right\rceil
\\]

の最小値を $ x $ を変えながら計算して求める.
