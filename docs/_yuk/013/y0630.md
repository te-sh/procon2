---
title: No.630
problem: https://yukicoder.me/problems/no/630
---
門松列の1番目と2番目, 2番目と3番目をそれぞれ比較すると必ず不等号が入れ替わっている. このようなグラフなので閉路は必ず偶数の距離になる. すなわち, グラフは二部グラフである.

二部グラフの片方の頂点群に $$ 1, 2, \dots, k $$, もう片方の頂点群に $$ k+1, k+2, \dots, N $$ を割り振る. こうすれば二部グラフは必ず門松グラフになる.

辺の数は $$ k = \lfloor N/2 \rfloor $$ のときが最も大きくできる. このときの最大の辺の数は $$ k(N-k) $$ なので $$ M $$ がこれ以上ならばグラフは作れない.

辺の数の最小は木である. これは `W` の形になるように辺を張っていけば作れる.
