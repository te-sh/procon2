---
title: "ABC #126 D"
problem: https://atcoder.jp/contests/abc126/tasks/abc126_d
---
頂点 $$ u $$ から根までの距離を $$ D(u) $$, 頂点 $$ u $$ と 頂点 $$ v $$ の LCA を $$ s $$ とすると, 頂点 $$ u $$ と 頂点 $$ v $$ の距離は

$$
D(u) + D(v) - 2D(s)
$$

となる. $$ 2D(s) $$ は必ず偶数なので, 距離の和が偶数になるためには, $$ D(u), D(v) $$ がともに偶数かともに奇数である必要がある. よって, $$ D(u) $$ が偶数である頂点を白, 奇数である頂点を黒に塗り分ければいい.

$$ D(u) $$ は BFS で求められる.
