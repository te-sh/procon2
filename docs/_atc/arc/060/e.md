---
title: "ARC #060 E"
problem: https://atcoder.jp/contests/arc060/tasks/arc060_c
---
ダブリングを使う. 以下では右向きの移動を考える. 左向きの移動も同様である.

$$ i $$ 番目のホテルから $$ 1, 2, 2^2, 2^3, \dots $$ 日かけて行ける最も遠いホテルを記録しておく. これは右から計算していけば DP で求めることができる.

1日でかならずひとつ先のホテルまで移動できるので, $$ 2^{17} \gt 10^5 $$ 日かければ必ず端に辿りつける.

クエリを読み込んだら, $$ a_i $$ から $$ b_i $$ 以上に行かずに最も $$ b_i $$ に近いホテルに $$ 2^k $$ 日かけて移動し, 以下これを繰り返していけば $$ O(\log N) $$ で移動日数を計算できる.
