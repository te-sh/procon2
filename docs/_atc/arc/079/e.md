---
title: "ARC #079 E"
problem: https://atcoder.jp/contests/arc079/tasks/arc079_c
---
配列は降順にソートしておく.

$$ a_i \lt N $$ となる $$ a_i $$ がある場合は, 愚直にシミュレートしてそのような要素がない状態まで進める.

まずは $$ a_1 - a_2 \leq N $$ となるように操作を行う. 1回の操作で $$ N+1 $$ ずつ差が詰まるので, $$ k_1 = \lfloor (a_1 - a_2)/(N+1) \rfloor $$ 回の操作を行えばいい. この結果, $$ a_1 = a_1 - kN, a_i = a_i + k \ (i \geq 2) $$ となる.

次に $$ a_1 - a_3 \leq N $$ となるように操作を行う. 2回の操作を1サイクルとすると, 1サイクルで $$ N+1 $$ ずつ差が詰まるので, $$ k_2 = \lfloor (a_1 - a_3)/(N+1) \rfloor $$ サイクルの操作を行えばいい. この結果, $$ a_i = a_i - k_2(N-1) \ (i \leq 2), a_j = a_j + 2k_2 \ (i \geq 3) $$ となる.

以下これを繰り返すと $$ a_1 - a_i \leq N $$ となる.

ここからは $$ N $$ 回の操作ですべての要素が1ずつ減るので, $$ a_i = 2N $$ となるまで減らす.

あとはシミュレートで求められる.
