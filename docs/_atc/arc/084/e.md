---
title: "ARC #084 E"
problem: https://beta.atcoder.jp/contests/arc084/tasks/arc084_c
---
辞典に載っている数列は $$ 1 $$ で始まる数列, $$ 2 $$ で始まる数列, ..., $$ K $$ で始まる数列の順に並ぶ.

$$ K $$ が偶数の場合は, $$ K/2 $$ で始まる数列の最後が該当の数列なので, $$ \{ K/2, K, K, \dots, K \} $$ と並べればいい.

$$ K $$ が奇数の場合を考える. これは $$ K_1 = \lceil K/2 \rceil $$ で始まる数列の中央になる. これは, $$ \{ K_1 \} $$, $$ \{ K_1, 1 \} $$ で始まる数列, $$ \{ K_1, 2 \} $$ で始まる数列, ... $$ \{ K_1, K \} $$ で始まる数列の順に並ぶ.

ここで, $$ K_1 $$ で始まる数列と $$ K_1 $$ で始まる数列のうち $$ \{ K_1 \} $$ を除いた数列の中央との差を考える. これは $$ N-1 $$ が偶数ならば両者に差はなく, $$ N-1 $$ が奇数ならば前者の方が後者の1つ前になる.

以下これを順に考えると, 求める数列は $$ \{ K_1, K_1, K_1, \dots, K_1 \} $$ の $$ \lfloor N/2 \rfloor $$ 個前の数列になる.

あとは1つずつ前の数列を計算していく. 1つ前の数列は以下の通りである.

* 数列の最後が $$ 1 $$ ならばそれを取り除いたものである
* そうでなければ最後の数値から1を引き, 数列のサイズが $$ N $$ になるように後ろに $$ K $$ を追加する.
