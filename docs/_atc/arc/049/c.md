---
title: "ARC #049 C"
problem: https://beta.atcoder.jp/contests/arc049/tasks/arc049_c
---
タイプ1だけある場合を考える. $$ x $$ に塗るときに $$ y $$ が塗られていなければならないということを $$ y \rightarrow x $$ という辺を持ったグラフと考える.

このグラフの強連結成分は塗ることができない. 強連結成分内の2頂点 $$ i, j $$ があるとして, $$ i \rightarrow j $$ のパスも $$ j \rightarrow i $$ のパスも存在するので, どちらを先に塗るかを決められないからである. また, 塗ることができない頂点からたどれる頂点もやはり塗ることができない.

次にタイプ2がある場合を考える. どの $$ u $$ を塗るかで全探索する. $$ u $$ を塗る場合, $$ v $$ は $$ u $$ の後に塗らないといけないので, $$ u \rightarrow v $$ の辺をグラフに追加する. そうでない場合は $$ u $$ を塗ることができない頂点に追加する.

