---
title: "ARC #044 B"
problem: https://atcoder.jp/contests/arc044/tasks/arc044_b
---
$$ A_1 = 0 $$ でなければならず, $$ A_i \gt 0 $$ ($$ i \gt 1 $$) でなければならない. そうでない場合は $$ 0 $$ 通りである.

$$ A_i $$ は昇順にソートしても組み合わせの数は変わらない.

$$ i $$ 番目まで見たときの組み合わせの数を $$ C(i) $$ とする.

$$ i $$ 番目の頂点を追加するとき組み合わせの数がどうなるかを考える.

$$ i $$ 番目の頂点は $$ A_j = A_i-1 $$ となる頂点のうち少なくとも1つの頂点とつながっていなければならない. このような頂点の数を $$ b $$ とすると, $$ 2^b-1 $$ 通りのパターンがあることになる.

また, $$ i $$ 番目の頂点は $$ A_j = A_i $$ となる頂点とつながっていてもいい. このような頂点の数を $$ c $$ とすると, $$ 2^c $$ 通りのパターンがあることになる.

よって, $$ C(i) = C(i-1)(2^b-1)2^c $$ となる. これを順に計算していけばいい.
