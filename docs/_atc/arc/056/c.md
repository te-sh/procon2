---
title: "ARC #056 C"
problem: https://beta.atcoder.jp/contests/arc056/tasks/arc056_c
---
グループを1つ作るとそのグループに所属する人同士の信頼度の総和と $$ K $$ が獲得できると考える. 社員の部分集合 $$ S $$ の信頼度の総和を $$ W(S) $$, $$ S $$ をグループ分けしたときに獲得できるスコアの最大値を $$ A(S) $$ とすると,

$$
A(S) = K + \max_{T \subset S} (W(T) + A(S \setminus T))
$$

となる. ただし $$ A(\varnothing) = 0 $$ である. これを bit DP で解けば計算量は $$ O(2^{2N}) $$ なので部分点がもらえる.

さらに部分集合の列挙で工夫をすることで計算量は $$ O(3^N) $$ となる.
