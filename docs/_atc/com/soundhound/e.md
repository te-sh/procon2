---
title: "SoundHound E"
problem: https://beta.atcoder.jp/contests/soundhound2018-summer-qual/tasks/soundhound2018_summer_qual_e
---
$$ a_1 $$ を決めると芋づる式に他の頂点の数値も決まる. その値は $$ b-a_1 $$ の形か $$ c+a_1 $$ の形のどちらかになる. これは幅優先探索で探索する.

ある頂点において $$ b-a_1 $$ と $$ c+a_1 $$ の形が両方現れたならば $$ a_1 $$ は一意に決まるので, これが正の整数になるかどうかを確認し, その他の頂点も矛盾なく決められるを確認する.

また, ある頂点において $$ b-a_1 $$ と $$ b'-a_1 $$ が現れた場合は $$ b = b' $$ でなければ $$ 0 $$ 通りである. $$ c+a_1 $$ と $$ c-a_1 $$ も同様である.

すべての頂点において $$ b-a_1 $$ 型と $$ c+a_1 $$ 型が片方しか現れなかった場合は, $$ -c \lt a_1 \lt b $$ となるので, $$ b $$ の最小値と $$ c $$ の最大値を求めれば $$ a_1 $$ となりうる値の数が分かる.
